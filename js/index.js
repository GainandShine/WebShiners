class ContactUs{constructor(){this.formEle=document.getElementById("contactForm"),this.emailEle=document.getElementById("email"),this.nameEle=document.getElementById("name"),this.subjectEle=document.getElementById("subject"),this.messageEle=document.getElementById("message"),this.statusEle=document.getElementById("status"),this.loading=document.getElementById("loading")}setStatus(e){this.removeLoading(),this.statusEle.classList.add("statusActive"),this.statusEle.innerHTML=e}removeStatus(){this.statusEle.classList.remove("statusActive"),this.statusEle.innerHTML=""}addLoading(){this.loading.classList.add("loadingActive")}removeLoading(){this.loading.classList.remove("loadingActive")}isEmpty(e){return 0==e.trim().length}invalidLength(e,t){return e.length>t}validateEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}initialize(){this.formEle.onsubmit=e=>{e.preventDefault(),this.removeStatus(),this.addLoading(),this.validateForm()}}validateForm(){document.getElementById("name_error").innerHTML="";let e=!1;if((null==this.nameEle.value||""==this.nameEle.value||this.nameEle.value.length>60)&&(e=!0,document.getElementById("name_error").innerHTML="Name is required and must be filled within 60 characters"),document.getElementById("email_error").innerHTML="",null!=this.emailEle.value&&""!=this.emailEle.value||(e=!0,document.getElementById("email_error").innerHTML="Email must be filled out"),document.getElementById("subject_error").innerHTML="",(null==this.subjectEle.value||""==this.subjectEle.value||this.subjectEle.value.length>180)&&(e=!0,document.getElementById("subject_error").innerHTML="Subject is required and must be filled within 180 characters"),document.getElementById("message_error").innerHTML="",null!=this.messageEle.value&&""!=this.messageEle.value||(e=!0,document.getElementById("message_error").innerHTML="Message must be filled out"),e)this.setStatus('<p class="gradientColor">Problem : Follow above guidelines and resubmit.</p>');else{let e={name:this.nameEle.value,email:this.emailEle.value,subject:this.subjectEle.value,message:this.messageEle.value,dateString:(new Date).toString()};this.sendData(JSON.stringify(e))}}catch(e){console.log(e)}sendData(e){let t=new XMLHttpRequest,s=this;t.onreadystatechange=function(){if(4==this.readyState&&200==this.status)try{"true"==JSON.parse(this.responseText).status.toString().toLowerCase()?(s.setStatus('<p class="gradientColor">Thank you for contacting us. We will get back to you'),s.formEle.reset()):s.setStatus('<p class="gradientColor">Looks like you have supplied invalid data or there is a problem with our server. Try again</p>')}catch(e){s.setStatus('<p class="gradientColor">Looks like you have supplied invalid data or there is a problem with our server. Try again</p>')}},t.open("POST","./php/ContactUs.php",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(`data=${e}`)}}const fb=new ContactUs;fb.initialize();